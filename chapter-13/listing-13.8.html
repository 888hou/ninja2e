<html>
	<head>
		<meta charset="utf-8">
		<title>Fetching computed style values</title>
		<link rel="stylesheet" href="../assert.css">
		<script src="../assert.js"></script>
		<style type="text/css">						
		  div {
		    background-color: #ffc; display: inline; font-size: 1.8em;
		    border: 1px solid crimson; color: green;
		  }
		</style>
	</head>
	<body>
		<div style="color:crimson;" id="testSubject" title="Ninja power!"> 
	  		忍者パワー
		</div>
		<script type="text/javascript">
		  function fetchComputedStyle(element,property) {			//#B
		    var computedStyles = window.getComputedStyle(element);	//#C
		    if (computedStyles) {						//#D
		      property = property.replace(/([A-Z])/g,'-$1').toLowerCase();
		      return computedStyles.getPropertyValue(property);
		    }
		  }
		  document.addEventListener("DOMContentLoaded", function(){
		    var div = document.querySelector("div");
		    assert(true,							//#E
		           "background-color: " +
		           fetchComputedStyle(div,'background-color'));
		    assert(true,
		           "display: " +
		           fetchComputedStyle(div,'display'));
		    assert(true,
		           "font-size: " +
		           fetchComputedStyle(div,'fontSize'));
		    assert(true,
		           "color: " +
		           fetchComputedStyle(div,'color'));
		    assert(true,
		           "border-top-color: " +
		           fetchComputedStyle(div,'borderTopColor'));
		    assert(true,
		           "border-top-width: " +
		           fetchComputedStyle(div,'border-top-width'));
		  });
		</script>
	</body>
</html>
